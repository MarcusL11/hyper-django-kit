<c-vars
  post
  featured="False"
  show_author="True"
/>

<article
  class="card lg:card-side bg-base-100 shadow-xl hover:shadow-2xl transition-all duration-300 border border-base-300 group h-full overflow-hidden"
  aria-label="Blog post: {{ post.title }}"
>

  <!-- Image Section with Category Badges Overlay -->
  {% if post.featured_image %}
  <figure class="relative aspect-4/3 lg:aspect-auto lg:w-2/5 overflow-hidden bg-base-200">
    <img
      src="{{ post.featured_image.url }}"
      alt="{{ post.title }}"
      class="object-cover w-full h-full group-hover:scale-105 transition-transform duration-500"
      loading="lazy"
    />
  </figure>
  {% endif %}

  <!-- Content Section -->
  <div class="card-body flex flex-col grow p-4 lg:p-6">

    <!-- Title -->
    <h3 class="font-heading text-lg lg:text-xl group-hover:text-primary transition-colors line-clamp-2 mb-3">
      <a href="{% url 'blogs:blog_detail' slug=post.slug %}" class="hover:underline decoration-2 underline-offset-2">
        {{ post.title }}
      </a>
    </h3>

    <!-- Date with Calendar Icon -->
    {% if post.date %}
    <div class="flex items-center gap-1.5 text-base-content text-sm font-body mb-2">
      <time datetime="{{ post.date|date:'Y-m-d' }}">
        {{ post.date|date:"M d, Y" }}
      </time>
    </div>
    {% endif %}



    <!-- Summary/Excerpt -->
    {% if post.summary %}
    <p class="text-base-content font-body text-sm line-clamp-2 lg:line-clamp-3 mb-4 grow"> {{ post.summary }}</p>
    {% endif %}

    <!-- Footer: Author and Read Button -->
    <div class="card-actions items-center mt-auto pt-4 border-t border-base-300 justify-between">
        <div class="text-sm">
          <p class="font-medium text-base-content font-body">Author: {{ post.author.get_full_name|default:post.author.username }}</p>
        </div>
        <a
          href="{% url 'blogs:blog_detail' slug=post.slug %}"
          class="btn btn-primary"
          aria-label="Read article: {{ post.title }}"
        >
        Read
        </a>
    </div>
  </div>
</article>
